# å¾®ä¿¡è¯»ä¹¦ Web é˜…è¯»åº”ç”¨

<div align="center">

[![Deploy](https://github.com/h7ml/weread/actions/workflows/deploy.yml/badge.svg)](https://github.com/h7ml/weread/actions/workflows/deploy.yml)
[![Live Demo](https://img.shields.io/badge/Live%20Demo-webook.linuxcloudlab.com-blue?style=flat&logo=vercel)](https://webook.linuxcloudlab.com/)
[![Deno Version](https://img.shields.io/badge/Deno-1.40+-black?style=flat&logo=deno)](https://deno.land/)
[![Fresh Version](https://img.shields.io/badge/Fresh-1.7.3-green?style=flat&logo=deno)](https://fresh.deno.dev/)
[![License](https://img.shields.io/badge/License-MIT-yellow?style=flat)](LICENSE)

[![TypeScript](https://img.shields.io/badge/TypeScript-Ready-blue?style=flat&logo=typescript)](https://www.typescriptlang.org/)
[![TailwindCSS](https://img.shields.io/badge/TailwindCSS-3.4.0-06B6D4?style=flat&logo=tailwindcss)](https://tailwindcss.com/)
[![Preact](https://img.shields.io/badge/Preact-10.22.0-673AB8?style=flat&logo=preact)](https://preactjs.com/)
[![Code Style](https://img.shields.io/badge/Code%20Style-Deno%20fmt-black?style=flat&logo=deno)](https://deno.land/manual/tools/formatter)

[![GitHub Stars](https://img.shields.io/github/stars/h7ml/weread?style=social)](https://github.com/h7ml/weread/stargazers)
[![GitHub Forks](https://img.shields.io/github/forks/h7ml/weread?style=social)](https://github.com/h7ml/weread/network/members)
[![GitHub Issues](https://img.shields.io/github/issues/h7ml/weread?style=flat&logo=github)](https://github.com/h7ml/weread/issues)
[![GitHub Last Commit](https://img.shields.io/github/last-commit/h7ml/weread?style=flat&logo=github)](https://github.com/h7ml/weread/commits)

</div>

---

åŸºäº Fresh (Deno) æ„å»ºçš„ç°ä»£åŒ–å¾®ä¿¡è¯»ä¹¦ Web é˜…è¯»åº”ç”¨ï¼Œå…·æœ‰é«˜çº§ TTS
åŠŸèƒ½å’Œä¼˜é›…çš„é˜…è¯»ç•Œé¢ã€‚

## ğŸ“‹ MVP æ ¸å¿ƒåŠŸèƒ½

**å¾®ä¿¡è¯»ä¹¦ Web é˜…è¯»åº”ç”¨** æ˜¯ä¸€ä¸ªå…¨åŠŸèƒ½çš„ç”µå­ä¹¦é˜…è¯»å¹³å°ï¼Œä» 2025-08-14 é¡¹ç›®åˆå§‹åŒ–å¼€å§‹ï¼Œåœ¨çŸ­çŸ­2å¤©å†…ï¼ˆè‡³2025-08-16ï¼‰å¿«é€Ÿè¿­ä»£å¼€å‘ï¼Œå·²å®ç°äº†å®Œæ•´çš„ MVP åŠŸèƒ½é›†ã€‚

<details>
<summary><strong>ğŸ¯ MVP åŠŸèƒ½æ¦‚è§ˆ</strong></summary>

### ğŸ“š é˜…è¯»æ ¸å¿ƒ
- **ç”µå­ä¹¦é˜…è¯»å™¨**ï¼šå®Œæ•´çš„ç« èŠ‚å¯¼èˆªå’Œè¿›åº¦è·Ÿè¸ª
- **å¤šä¸»é¢˜æ”¯æŒ**ï¼šæŠ¤çœ¼æ¨¡å¼ã€å¤œé—´æ¨¡å¼ã€è‡ªå®šä¹‰å­—ä½“
- **å“åº”å¼é˜…è¯»**ï¼šå®Œç¾é€‚é…æ‰‹æœºã€å¹³æ¿ã€æ¡Œé¢è®¾å¤‡

### ğŸ”Š æ™ºèƒ½è¯­éŸ³
- **ä¸‰å¼•æ“TTS**ï¼šOpenXing + t.leftsite.cn + æµè§ˆå™¨å›é€€
- **29+ä¸­æ–‡è¯­éŸ³**ï¼šå¤šéŸ³è‰²ã€æƒ…æ„Ÿé£æ ¼å¯é€‰
- **æ™ºèƒ½æœ—è¯»**ï¼šå¥å­çº§é«˜äº®ã€è‡ªåŠ¨æ»šåŠ¨ã€è·¨ç« èŠ‚è¿è¯»

### ğŸ‘¤ ç”¨æˆ·ç³»ç»Ÿ
- **å¾®ä¿¡è¯»ä¹¦ç™»å½•**ï¼šSSEå®æ—¶ç™»å½•çŠ¶æ€åŒæ­¥
- **ä¸ªäººä¸­å¿ƒ**ï¼šå®Œæ•´çš„ä¸ªäººä¿¡æ¯ç®¡ç†
- **å®‰å…¨ä¼šè¯**ï¼šKVå­˜å‚¨çš„ä¼šè¯ç®¡ç†å’Œå®‰å…¨é€€å‡º

### ğŸ“Š æ•°æ®åˆ†æ
- **é˜…è¯»ç»Ÿè®¡**ï¼šçƒ­åŠ›å›¾ã€æ—¶é—´åˆ†å¸ƒã€åå¥½åˆ†æ
- **è¿›åº¦åŒæ­¥**ï¼šè·¨è®¾å¤‡é˜…è¯»è¿›åº¦ä¸€è‡´æ€§
- **ç¬”è®°ç®¡ç†**ï¼šä¹¦ç­¾ã€æ‰¹æ³¨ã€ä¹¦è¯„é›†æˆç®¡ç†

</details>

<details>
<summary><strong>ğŸ—ï¸ é¡¹ç›®æ¶æ„æ¦‚è§ˆ</strong></summary>

### æ ¸å¿ƒæŠ€æœ¯æ ˆ
```
Frontend:  Preact 10.22.0 + Signals + TailwindCSS 3.4.0
Backend:   Deno + Fresh 1.7.3 + Unstable KV
TTS:       å¤šå¼•æ“æ¶æ„ï¼ˆOpenXing + t.leftsite.cn + WebSpeechï¼‰
Storage:   Deno KV (ä¼šè¯/è®¾ç½®/æ—¥å¿—) + localStorage (å®¢æˆ·ç«¯ç¼“å­˜)
Security:  XSSé˜²æŠ¤ + å†…å®¹è§£å¯† + è¯·æ±‚ç­¾å + CORSæ”¯æŒ
```

### ç³»ç»Ÿæ¶æ„å›¾
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Client Side   â”‚    â”‚   Server Side   â”‚    â”‚  External APIs  â”‚
â”‚                 â”‚    â”‚                 â”‚    â”‚                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚Islands    â”‚  â”‚â—„â”€â”€â–ºâ”‚  â”‚Fresh      â”‚  â”‚â—„â”€â”€â–ºâ”‚  â”‚å¾®ä¿¡è¯»ä¹¦   â”‚  â”‚
â”‚  â”‚Components â”‚  â”‚    â”‚  â”‚Routes     â”‚  â”‚    â”‚  â”‚API        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚Preact +   â”‚  â”‚    â”‚  â”‚Deno KV    â”‚  â”‚    â”‚  â”‚TTS        â”‚  â”‚
â”‚  â”‚Signals    â”‚  â”‚    â”‚  â”‚Storage    â”‚  â”‚    â”‚  â”‚Services   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ•°æ®æµæ¶æ„
```
ç”¨æˆ·äº¤äº’ â†’ Islandsç»„ä»¶ â†’ APIè°ƒç”¨ â†’ ä¸šåŠ¡é€»è¾‘ â†’ æ•°æ®å­˜å‚¨/å¤–éƒ¨API
    â†“         â†“          â†“         â†“           â†“
å“åº”æ›´æ–° â† SignalsçŠ¶æ€ â† JSONå“åº” â† æ•°æ®å¤„ç† â† KV/å¾®ä¿¡è¯»ä¹¦API
```

### æ¨¡å—åŒ–è®¾è®¡
```
src/
â”œâ”€â”€ apis/              # å¤–éƒ¨APIé›†æˆå±‚
â”‚   â””â”€â”€ web/          # å¾®ä¿¡è¯»ä¹¦APIå°è£…
â”œâ”€â”€ kv/               # æ•°æ®æŒä¹…åŒ–å±‚
â”‚   â”œâ”€â”€ credential.ts # ç”¨æˆ·å‡­è¯ç®¡ç†
â”‚   â”œâ”€â”€ setting.ts    # åº”ç”¨è®¾ç½®å­˜å‚¨
â”‚   â””â”€â”€ systemLog.ts  # ç³»ç»Ÿæ—¥å¿—è®°å½•
â”œâ”€â”€ utils/            # å·¥å…·å‡½æ•°åº“
â”‚   â”œâ”€â”€ crypto.ts     # åŠ å¯†è§£å¯†å·¥å…·
â”‚   â””â”€â”€ request.ts    # ç½‘ç»œè¯·æ±‚å°è£…
â””â”€â”€ types/            # TypeScriptç±»å‹å®šä¹‰
```

</details>

<details>
<summary><strong>ğŸš€ å¼€å‘å†ç¨‹</strong></summary>

### é¡¹ç›®æ—¶é—´çº¿
- **2025-08-14**ï¼šé¡¹ç›®åˆå§‹åŒ– (Commit: abd1f21 - feat: åˆå§‹åŒ– Fresh é¡¹ç›®)
- **2025-08-16**ï¼šMVPåŠŸèƒ½å®Œæˆ (å½“å‰ç‰ˆæœ¬: 1.0.0)
- **å¼€å‘å‘¨æœŸ**ï¼š2å¤©å¿«é€Ÿè¿­ä»£

### å…³é”®é‡Œç¨‹ç¢‘
```
Day 1 (2025-08-14):
â”œâ”€â”€ âœ… Freshé¡¹ç›®åŸºç¡€æ¶æ„æ­å»º
â”œâ”€â”€ âœ… åŸºæœ¬è·¯ç”±å’Œç»„ä»¶ç»“æ„
â”œâ”€â”€ âœ… TailwindCSSæ ·å¼ç³»ç»Ÿé…ç½®
â””â”€â”€ âœ… Preactç»„ä»¶å’Œè®¡æ•°å™¨é€»è¾‘å®ç°

Day 2 (2025-08-15 - 2025-08-16):
â”œâ”€â”€ âœ… å¾®ä¿¡è¯»ä¹¦APIé›†æˆå®Œæˆ
â”œâ”€â”€ âœ… å¤šå¼•æ“TTSç³»ç»Ÿå®ç°
â”œâ”€â”€ âœ… ç”¨æˆ·ç™»å½•å’Œä¼šè¯ç®¡ç†
â”œâ”€â”€ âœ… é˜…è¯»å™¨æ ¸å¿ƒåŠŸèƒ½
â”œâ”€â”€ âœ… æ•°æ®ç»Ÿè®¡å’Œå¯è§†åŒ–
â”œâ”€â”€ âœ… ç¬”è®°å’Œä¹¦æ¶ç®¡ç†
â””â”€â”€ âœ… ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²ä¼˜åŒ–
```

### æŠ€æœ¯å€ºåŠ¡å’Œä¼˜åŒ–
- âœ… **CSSç”Ÿäº§é—®é¢˜ä¿®å¤**ï¼šè§£å†³äº†ç”Ÿäº§ç¯å¢ƒæ ·å¼ä¸¢å¤±
- âœ… **ç™»å½•æ•°æ®å®Œæ•´æ€§**ï¼šä¿®å¤SSEç”¨æˆ·ä¿¡æ¯å­˜å‚¨é€»è¾‘
- âœ… **é”™è¯¯å¤„ç†ä¼˜åŒ–**ï¼šå®Œå–„ç™»å½•è¿‡æœŸå’Œç”¨æˆ·ä½“éªŒ
- âœ… **TTSåŠŸèƒ½å¢å¼º**ï¼šä¼˜åŒ–æ–‡æœ¬è½¬è¯­éŸ³å’Œè¯­éŸ³è¯•å¬

</details>

## ğŸš€ ç‰¹æ€§

### ğŸ“š é˜…è¯»ä½“éªŒ

- **å®Œæ•´çš„ç”µå­ä¹¦é˜…è¯»å™¨**ï¼šæ”¯æŒç« èŠ‚å¯¼èˆªã€é˜…è¯»è¿›åº¦è·Ÿè¸ª
- **å¤šç§é˜…è¯»ä¸»é¢˜**ï¼šæŠ¤çœ¼æ¨¡å¼ã€å¤œé—´æ¨¡å¼ç­‰
- **å“åº”å¼è®¾è®¡**ï¼šé€‚é…æ¡Œé¢ç«¯å’Œç§»åŠ¨ç«¯
- **é˜…è¯»ç»Ÿè®¡**ï¼šè¯¦ç»†çš„é˜…è¯»æ•°æ®åˆ†æå’Œå¯è§†åŒ–
- **è¿›åº¦åŒæ­¥**ï¼šè·¨è®¾å¤‡é˜…è¯»è¿›åº¦åŒæ­¥

### ğŸ”Š å¤šå¼•æ“ TTS ç³»ç»Ÿ

- **ä¸‰å¼•æ“æ”¯æŒ**ï¼šOpenXing TTS + t.leftsite.cn + æµè§ˆå™¨ Web Speech API æ™ºèƒ½å›é€€
- **29+ ä¸­æ–‡è¯­éŸ³**ï¼šæ”¯æŒå¤šç§éŸ³è‰²å’Œæƒ…æ„Ÿé£æ ¼
- **æ™ºèƒ½åŠŸèƒ½**ï¼š
  - å¥å­çº§é˜…è¯»å’Œå¯è§†åŒ–é«˜äº®
  - å®æ—¶è¿›åº¦è·Ÿè¸ªå’ŒåŠ¨ç”»è¿›åº¦æ¡
  - è‡ªåŠ¨æ»šåŠ¨ï¼Œå¯é…ç½®é€Ÿåº¦å’Œå¹³æ»‘åº¦
  - è·¨ç« èŠ‚è¿ç»­é˜…è¯»
  - è‡ªåŠ¨æ•…éšœè½¬ç§»å’ŒæœåŠ¡æ£€æµ‹

### ğŸ‘¤ ç”¨æˆ·ç³»ç»Ÿ

- **å®Œæ•´ä¸ªäººä¸­å¿ƒ**ï¼šä¸ªäººä¿¡æ¯ç®¡ç†ã€é˜…è¯»æˆå°±å±•ç¤º
- **å®‰å…¨ç™»å½•**ï¼šå®Œå–„çš„ç™»å½•è®¤è¯å’Œä¼šè¯ç®¡ç†
- **ä¸ªæ€§åŒ–è®¾ç½®**ï¼šä¸»é¢˜ã€å­—ä½“ã€TTS åå¥½è®¾ç½®
- **å®‰å…¨é€€å‡º**ï¼šæœåŠ¡ç«¯ä¼šè¯æ¸…ç†å’Œå®¢æˆ·ç«¯çŠ¶æ€é‡ç½®

### ğŸ“Š å†…å®¹ç®¡ç†

- **æ™ºèƒ½æœç´¢**ï¼šå…¨æ–‡æœç´¢å’Œå›¾ä¹¦å‘ç°
- **ä¹¦æ¶ç®¡ç†**ï¼šä¸ªäººå›¾ä¹¦æ”¶è—å’Œåˆ†ç±»
- **ç¬”è®°ç³»ç»Ÿ**ï¼šæ”¯æŒç¬”è®°ã€ä¹¦ç­¾ã€ä¹¦è¯„ç®¡ç†
- **ç»Ÿè®¡åˆ†æ**ï¼šé˜…è¯»çƒ­åŠ›å›¾ã€æ—¶é—´åˆ†å¸ƒã€åå¥½åˆ†æ

### ğŸ” å¾®ä¿¡è¯»ä¹¦é›†æˆ

- **å®Œæ•´ API é›†æˆ**ï¼šæ”¯æŒå…¬å¼€å’Œè®¤è¯æ¨¡å¼
- **å†…å®¹è§£å¯†**ï¼šå¤„ç†å—ä¿æŠ¤çš„ç« èŠ‚å†…å®¹
- **ä¼šè¯ç®¡ç†**ï¼šåŸºäº Cookie çš„è®¤è¯å’Œ KV å­˜å‚¨
- **å®æ—¶ç™»å½•**ï¼šServer-Sent Events å®æ—¶ç™»å½•çŠ¶æ€æ›´æ–°

### ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **æ¡†æ¶**ï¼šFresh 1.7.3 (Deno å…¨æ ˆæ¡†æ¶)
- **å‰ç«¯**ï¼šPreact 10.22.0 + Signals çŠ¶æ€ç®¡ç†
- **æ ·å¼**ï¼šTailwindCSS 3.4.0 + PostCSS
- **åç«¯**ï¼šDeno + Unstable KV å­˜å‚¨ + å®šæ—¶ä»»åŠ¡
- **TTS**ï¼šå¤šå¼•æ“æœåŠ¡é›†æˆ + æµè§ˆå™¨å›é€€
- **æ•°æ®å­˜å‚¨**ï¼šDeno KV (ç”¨æˆ·ä¼šè¯ã€è®¾ç½®ã€æ—¥å¿—ã€ä»»åŠ¡)
- **å®‰å…¨æ€§**ï¼šXSS é˜²æŠ¤ã€å†…å®¹è§£å¯†ã€è¯·æ±‚ç­¾å

## ğŸ“¦ å®‰è£…å’Œä½¿ç”¨

<details>
<summary><strong>ğŸ’» ç¯å¢ƒè¦æ±‚</strong></summary>

- [Deno](https://docs.deno.com/runtime/getting_started/installation) æœ€æ–°ç‰ˆæœ¬

</details>

<details>
<summary><strong>ğŸš€ å¼€å‘æ¨¡å¼</strong></summary>

```bash
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼ˆçƒ­é‡è½½ï¼‰
deno task dev
```

æœåŠ¡å°†åœ¨ http://localhost:8888 å¯åŠ¨ï¼ˆæˆ– PORT ç¯å¢ƒå˜é‡æŒ‡å®šçš„ç«¯å£ï¼‰

</details>

<details>
<summary><strong>ğŸ” ä»£ç è´¨é‡æ£€æŸ¥</strong></summary>

```bash
# æ ¼å¼æ£€æŸ¥ + Lint æ£€æŸ¥ï¼ˆæ¨èæ—¥å¸¸ä½¿ç”¨ï¼‰
deno task check

# ä»…ç±»å‹æ£€æŸ¥
deno task check-types  

# å®Œæ•´æ£€æŸ¥ï¼ˆæ ¼å¼ + Lint + ç±»å‹ï¼‰
deno task check-all

# æ ¼å¼åŒ–ä»£ç 
deno fmt

# ä»… Lint æ£€æŸ¥
deno lint
```

</details>

<details>
<summary><strong>ğŸ“¦ ç”Ÿäº§éƒ¨ç½²</strong></summary>

```bash
# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
deno task build

# å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨
deno task start
```

</details>

<details>
<summary><strong>â¬†ï¸ æ›´æ–°æ¡†æ¶</strong></summary>

```bash
# æ›´æ–° Fresh æ¡†æ¶
deno task update
```

</details>

## ğŸ—‚ï¸ é¡¹ç›®ç»“æ„

```
weread/
â”œâ”€â”€ routes/                 # Fresh åŸºäºæ–‡ä»¶çš„è·¯ç”±
â”‚   â”œâ”€â”€ api/               # API ç«¯ç‚¹
â”‚   â”‚   â”œâ”€â”€ book/          # ä¹¦ç±ç›¸å…³ API
â”‚   â”‚   â”œâ”€â”€ tts/           # TTS ç›¸å…³ API
â”‚   â”‚   â””â”€â”€ login/         # ç™»å½•ç›¸å…³ API
â”‚   â””â”€â”€ reader/            # é˜…è¯»å™¨é¡µé¢
â”œâ”€â”€ islands/               # å®¢æˆ·ç«¯äº¤äº’ç»„ä»¶ï¼ˆæ°´åˆï¼‰
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ apis/              # ä¸šåŠ¡é€»è¾‘å’Œå¤–éƒ¨ API é›†æˆ
â”‚   â”‚   â””â”€â”€ web/           # å¾®ä¿¡è¯»ä¹¦ API å°è£…
â”‚   â”œâ”€â”€ kv/                # Deno KV æ•°æ®æ“ä½œ
â”‚   â”œâ”€â”€ utils/             # å·¥å…·å‡½æ•°å’ŒåŠ©æ‰‹
â”‚   â””â”€â”€ types/             # TypeScript ç±»å‹å®šä¹‰
â”œâ”€â”€ static/                # é™æ€èµ„æº
â””â”€â”€ components/            # å¯å¤ç”¨ç»„ä»¶
```

## ğŸ”§ é…ç½®

<details>
<summary><strong>ğŸŒ ç¯å¢ƒå˜é‡</strong></summary>

```bash
PORT=8888                  # æœåŠ¡ç«¯å£ï¼ˆé»˜è®¤ï¼š8888ï¼‰
DENO_ENV=production        # ç¯å¢ƒï¼ˆlocal/development/productionï¼‰
KV_NAMESPACE=weread        # Deno KV å‘½åç©ºé—´
LOG_LEVEL=info             # æ—¥å¿—çº§åˆ«

# TTS æœåŠ¡é…ç½®
OPENXING_TTS_URL=          # OpenXing TTS æœåŠ¡ URL
LEFTSITE_TTS_URL=          # Leftsite TTS æœåŠ¡ URL

# å¾®ä¿¡è¯»ä¹¦ API é…ç½®
WEREAD_API_BASE=           # å¾®ä¿¡è¯»ä¹¦ API åŸºç¡€åœ°å€
WEREAD_COOKIE=             # å¾®ä¿¡è¯»ä¹¦ Cookieï¼ˆå¯é€‰ï¼‰
```

</details>

<details>
<summary><strong>ğŸ“ è·¯å¾„åˆ«å</strong></summary>

é¡¹ç›®é…ç½®äº†ä»¥ä¸‹è·¯å¾„åˆ«åï¼š

- `@/utils` â†’ `src/utils/mod.ts`
- `@/apis` â†’ `src/apis/mod.ts`
- `@/kv` â†’ `src/kv/mod.ts`
- `@/cron` â†’ `src/cron/mod.ts`
- `@/config` â†’ `src/config.ts`
- `@/types` â†’ `src/types/mod.ts`

</details>

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

<details>
<summary><strong>ğŸ“± é¡µé¢è·¯ç”±</strong></summary>

- **ä¸»é¡µé¢**ï¼š`/` - é¦–é¡µã€`/dashboard` - ä»ªè¡¨æ¿ã€`/profile` - ä¸ªäººä¸­å¿ƒ
- **å›¾ä¹¦ç›¸å…³**ï¼š`/book/[id]` - å›¾ä¹¦è¯¦æƒ…ã€`/reader/[bookId]/[chapterUid]` - é˜…è¯»å™¨ã€`/shelf` - ä¹¦æ¶
- **åŠŸèƒ½é¡µé¢**ï¼š`/search` - æœç´¢ã€`/notes` - ç¬”è®°ã€`/login` - ç™»å½•

</details>

<details>
<summary><strong>ğŸ”Œ API ç«¯ç‚¹</strong></summary>

#### TTS è¯­éŸ³æœåŠ¡
- `GET /api/tts` - ä¸» TTS æœåŠ¡ï¼ˆt.leftsite.cnï¼‰
- `POST /api/tts/openxing` - OpenXing TTS æœåŠ¡
- `GET /api/tts/voices` - è·å–å¯ç”¨è¯­éŸ³åˆ—è¡¨
- `GET /api/tts/openxing-voices` - OpenXing è¯­éŸ³åˆ—è¡¨

#### å›¾ä¹¦æœåŠ¡
- `GET /api/book/info` - è·å–å›¾ä¹¦ä¿¡æ¯
- `GET /api/book/chapters` - è·å–ç« èŠ‚åˆ—è¡¨
- `GET /api/book/content` - è·å–ç« èŠ‚å†…å®¹ï¼ˆæ”¯æŒè§£å¯†ï¼‰

#### ç”¨æˆ·æœåŠ¡
- `GET /api/user/profile` - ä¸ªäººèµ„æ–™ç®¡ç†
- `GET /api/user/weread` - å¾®ä¿¡è¯»ä¹¦ç”¨æˆ·ä¿¡æ¯
- `GET /api/user/credential` - ç”¨æˆ·å‡­è¯è·å–
- `POST /api/logout` - å®‰å…¨é€€å‡ºç™»å½•

#### å†…å®¹ç®¡ç†
- `GET /api/search` - ç»Ÿä¸€æœç´¢æ¥å£ï¼ˆå…¨å±€æœç´¢+å»ºè®®ï¼‰
- `GET /api/shelf` - ä¹¦æ¶ç®¡ç†
- `POST /api/shelf/manage` - ä¹¦æ¶æ“ä½œï¼ˆæ·»åŠ /åˆ é™¤ï¼‰
- `GET /api/notes` - ç¬”è®°å’Œä¹¦è¯„ CRUD
- `GET /api/progress` - é˜…è¯»è¿›åº¦åŒæ­¥
- `GET /api/stats` - é˜…è¯»ç»Ÿè®¡æ•°æ®

#### ç™»å½•è®¤è¯
- `POST /api/login` - ç™»å½•æ¥å£
- `GET /api/login/sse` - Server-Sent Events å®æ—¶ç™»å½•çŠ¶æ€

</details>

<details>
<summary><strong>ğŸï¸ Islands ç»„ä»¶</strong></summary>

- **æ ¸å¿ƒé˜…è¯»å™¨**ï¼š`WeReadStyleReaderComponent` - å®Œæ•´é˜…è¯»ä½“éªŒå’Œ TTS åŠŸèƒ½
- **ç”¨æˆ·ç•Œé¢**ï¼š`LoginComponent` - ç™»å½•è®¤è¯ã€`ProfileComponent` - ä¸ªäººä¸­å¿ƒ
- **å†…å®¹ç®¡ç†**ï¼š`DashboardComponent` - æ•°æ®ç»Ÿè®¡ã€`SearchComponent` - æœç´¢å‘ç°
- **åŠŸèƒ½ç»„ä»¶**ï¼š`NotesComponent` - ç¬”è®°ç®¡ç†ã€`ShelfComponent` - ä¹¦æ¶ç®¡ç†
- **ç³»ç»Ÿç»„ä»¶**ï¼š`ProgressSyncComponent` - è¿›åº¦åŒæ­¥

</details>

## ğŸ›¡ï¸ å®‰å…¨ç‰¹æ€§

- **å†…å®¹è§£å¯†**ï¼šå¤„ç†å¾®ä¿¡è¯»ä¹¦çš„å†…å®¹ä¿æŠ¤æœºåˆ¶
- **è¯·æ±‚ç­¾å**ï¼šå¤æ‚çš„ç­¾åç³»ç»Ÿç¡®ä¿ API å®‰å…¨æ€§
- **ä¼šè¯ç®¡ç†**ï¼šåŸºäº KV å­˜å‚¨çš„å®‰å…¨ç”¨æˆ·è®¤è¯
- **XSS é˜²æŠ¤**ï¼šä½¿ç”¨ xss åº“é˜²æ­¢è·¨ç«™è„šæœ¬æ”»å‡»
- **CORS æ”¯æŒ**ï¼šæ‰€æœ‰ API ç«¯ç‚¹æ”¯æŒè·¨åŸŸè¯·æ±‚
- **Token è®¤è¯**ï¼šæ”¯æŒ URL å‚æ•°å’Œ Authorization header
- **å®‰å…¨é€€å‡º**ï¼šæœåŠ¡ç«¯ä¼šè¯æ¸…ç†å’Œå®¢æˆ·ç«¯çŠ¶æ€é‡ç½®

## ğŸ“ å¼€å‘æ³¨æ„äº‹é¡¹

<details>
<summary><strong>âš ï¸ æ ¸å¿ƒè¦æ±‚</strong></summary>

1. **ä»£ç è´¨é‡**ï¼šä½¿ç”¨ `deno task check-all` ç¡®ä¿å®Œæ•´çš„ä»£ç è´¨é‡æ£€æŸ¥
2. **KV å­˜å‚¨**ï¼šé€šè¿‡ `@/kv` æ¨¡å—è¿›è¡Œæ•°æ®æŒä¹…åŒ–ï¼Œæ”¯æŒç”¨æˆ·ä¼šè¯ã€è®¾ç½®ã€æ—¥å¿—
3. **TTS å¼€å‘**ï¼šæ”¯æŒå¤šå¼•æ“ TTSï¼Œéœ€è¦æµ‹è¯•æœåŠ¡å¯ç”¨æ€§å’Œæ•…éšœè½¬ç§»
4. **Fresh Islands**ï¼šäº¤äº’ç»„ä»¶æ”¾åœ¨ `islands/` ç›®å½•ï¼Œä½¿ç”¨ Preact Signals çŠ¶æ€ç®¡ç†
5. **CSS æ ·å¼**ï¼šé¿å…å†…è”æ ·å¼ï¼Œä½¿ç”¨ `static/styles.css` å’Œ TailwindCSS safelist
6. **API å¼€å‘**ï¼šéµå¾ª RESTful è®¾è®¡ï¼Œæ”¯æŒ CORS å’Œç»Ÿä¸€é”™è¯¯å¤„ç†
7. **ç”Ÿäº§éƒ¨ç½²**ï¼šç¡®ä¿ CSS æ„å»ºã€TTS æœåŠ¡é…ç½®å’Œç¯å¢ƒå˜é‡è®¾ç½®æ­£ç¡®

</details>

## ğŸ“Š é¡¹ç›®çŠ¶æ€

- âœ… **æ ¼å¼æ£€æŸ¥**ï¼šå®Œå…¨é€šè¿‡
- âœ… **Lint æ£€æŸ¥**ï¼šå®Œå…¨é€šè¿‡
- âœ… **ç±»å‹æ£€æŸ¥**ï¼šå®Œå…¨é€šè¿‡ï¼ˆFresh 1.7.3 å…¼å®¹ï¼‰
- âœ… **éƒ¨ç½²çŠ¶æ€**ï¼šæ­£å¸¸è¿è¡Œ
- âœ… **å¤šå¼•æ“ TTS**ï¼šOpenXing + t.leftsite.cn + æµè§ˆå™¨å›é€€
- âœ… **ç”¨æˆ·ç³»ç»Ÿ**ï¼šå®Œæ•´çš„ç™»å½•ã€ä¸ªäººä¸­å¿ƒã€å®‰å…¨é€€å‡º
- âœ… **CSS ç”Ÿäº§**ï¼šè§£å†³äº†ç”Ÿäº§ç¯å¢ƒæ ·å¼ä¸¢å¤±é—®é¢˜
- âœ… **æ•°æ®å®Œæ•´æ€§**ï¼šä¿®å¤äº†ç™»å½• SSE ç”¨æˆ·æ•°æ®å­˜å‚¨
- ğŸ”„ **æŒç»­é›†æˆ**ï¼šGitHub Actions è‡ªåŠ¨éƒ¨ç½²

## ğŸŒŸ Star History

[![Star History Chart](https://api.star-history.com/svg?repos=h7ml/weread&type=Date)](https://star-history.com/#h7ml/weread&Date)

## ğŸ¤ è´¡çŒ®

æˆ‘ä»¬æ¬¢è¿ä»»ä½•å½¢å¼çš„è´¡çŒ®ï¼è¯·æŸ¥çœ‹ [è´¡çŒ®æŒ‡å—](CONTRIBUTING.md)
äº†è§£å¦‚ä½•å‚ä¸é¡¹ç›®å¼€å‘ã€‚

### è´¡çŒ®ç±»å‹

- ğŸ› **Bug æŠ¥å‘Š**ï¼šå‘ç°é—®é¢˜è¯·æäº¤ Issue
- ğŸ’¡ **åŠŸèƒ½å»ºè®®**ï¼šæœ‰å¥½çš„æƒ³æ³•è¯·åˆ†äº«
- ğŸ”§ **ä»£ç è´¡çŒ®**ï¼šæ¬¢è¿æäº¤ Pull Request
- ğŸ“š **æ–‡æ¡£æ”¹è¿›**ï¼šå¸®åŠ©å®Œå–„é¡¹ç›®æ–‡æ¡£
- ğŸŒ **ç¿»è¯‘**ï¼šæ”¯æŒå¤šè¯­è¨€æœ¬åœ°åŒ–

### å¿«é€Ÿå¼€å§‹è´¡çŒ®

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ï¼š`git checkout -b feature/amazing-feature`
3. æäº¤æ›´æ”¹ï¼š`git commit -m 'Add some amazing feature'`
4. æ¨é€åˆ†æ”¯ï¼š`git push origin feature/amazing-feature`
5. æäº¤ Pull Request

### å¼€å‘è§„èŒƒ

- ä½¿ç”¨ `deno task check` ç¡®ä¿ä»£ç è´¨é‡
- éµå¾ªé¡¹ç›®çš„ TypeScript ç±»å‹è§„èŒƒ
- æäº¤å‰è¿è¡Œå®Œæ•´æµ‹è¯•
- ä¿æŒä»£ç é£æ ¼ä¸€è‡´

## ğŸ—ï¸ é¡¹ç›®æ¶æ„

### æŠ€æœ¯é€‰å‹ç†ç”±

- **Deno**ï¼šç°ä»£ JavaScript/TypeScript è¿è¡Œæ—¶ï¼Œå†…ç½®å®‰å…¨æ€§å’Œå·¥å…·é“¾
- **Fresh**ï¼šè½»é‡çº§å…¨æ ˆæ¡†æ¶ï¼Œé›¶é…ç½® SSR å’Œ Islands æ¶æ„
- **Preact**ï¼šReact çš„è½»é‡çº§æ›¿ä»£å“ï¼Œæ›´å°çš„åŒ…ä½“ç§¯
- **TailwindCSS**ï¼šå®ç”¨ä¼˜å…ˆçš„ CSS æ¡†æ¶ï¼Œå¼€å‘æ•ˆç‡é«˜

### æ–‡ä»¶ç»“æ„è¯´æ˜

```text
weread/
â”œâ”€â”€ routes/                 # åŸºäºæ–‡ä»¶çš„è·¯ç”±ç³»ç»Ÿ
â”‚   â”œâ”€â”€ api/               # API ç«¯ç‚¹
â”‚   â”œâ”€â”€ reader/            # é˜…è¯»å™¨ç›¸å…³é¡µé¢
â”‚   â””â”€â”€ _404.tsx           # è‡ªå®šä¹‰ 404 é¡µé¢
â”œâ”€â”€ islands/               # å®¢æˆ·ç«¯ç»„ä»¶ï¼ˆIslands æ¶æ„ï¼‰
â”œâ”€â”€ src/                   # æ ¸å¿ƒä¸šåŠ¡é€»è¾‘
â”‚   â”œâ”€â”€ apis/              # å¤–éƒ¨ API é›†æˆ
â”‚   â”œâ”€â”€ kv/                # æ•°æ®å­˜å‚¨å±‚
â”‚   â”œâ”€â”€ utils/             # å·¥å…·å‡½æ•°
â”‚   â””â”€â”€ types/             # ç±»å‹å®šä¹‰
â”œâ”€â”€ static/                # é™æ€èµ„æº
â”œâ”€â”€ components/            # å¯å¤ç”¨ç»„ä»¶
â””â”€â”€ docs/                  # é¡¹ç›®æ–‡æ¡£
```

## ğŸ“Š æ€§èƒ½æŒ‡æ ‡

- **é¦–å±åŠ è½½æ—¶é—´**ï¼š< 1.5sï¼ˆLCPï¼‰
- **äº¤äº’å»¶è¿Ÿ**ï¼š< 100msï¼ˆFIDï¼‰
- **å¸ƒå±€ç¨³å®šæ€§**ï¼š< 0.1ï¼ˆCLSï¼‰
- **SEO å‹å¥½**ï¼šæœåŠ¡ç«¯æ¸²æŸ“æ”¯æŒ

## ğŸ”’ å®‰å…¨ç‰¹æ€§

- **å†…å®¹å®‰å…¨ç­–ç•¥**ï¼šé˜²æ­¢ XSS æ”»å‡»
- **HTTPS å¼ºåˆ¶**ï¼šæ‰€æœ‰é€šä¿¡åŠ å¯†ä¼ è¾“
- **ç¯å¢ƒå˜é‡ç®¡ç†**ï¼šæ•æ„Ÿä¿¡æ¯å®‰å…¨å­˜å‚¨
- **è¾“å…¥éªŒè¯**ï¼šä¸¥æ ¼çš„æ•°æ®æ ¡éªŒæœºåˆ¶

## ğŸŒ å›½é™…åŒ–

é¡¹ç›®æ”¯æŒå¤šè¯­è¨€æœ¬åœ°åŒ–ï¼š

- ğŸ‡¨ğŸ‡³ **ç®€ä½“ä¸­æ–‡**ï¼ˆé»˜è®¤ï¼‰
- ğŸ‡ºğŸ‡¸ **English**ï¼ˆè®¡åˆ’ä¸­ï¼‰
- ğŸ‡¯ğŸ‡µ **æ—¥æœ¬èª**ï¼ˆè®¡åˆ’ä¸­ï¼‰

## ğŸ“ˆ è·¯çº¿å›¾

### v1.0.0ï¼ˆå½“å‰ç‰ˆæœ¬ - 2025-08-16ï¼‰

- âœ… **MVPæ ¸å¿ƒåŠŸèƒ½**ï¼šå®Œæ•´çš„ç”µå­ä¹¦é˜…è¯»ä½“éªŒ
- âœ… **å¤šå¼•æ“TTSç³»ç»Ÿ**ï¼šOpenXing + t.leftsite.cn + æµè§ˆå™¨å›é€€
- âœ… **ç”¨æˆ·ç³»ç»Ÿ**ï¼šå¾®ä¿¡è¯»ä¹¦ç™»å½•ã€ä¸ªäººä¸­å¿ƒã€å®‰å…¨ä¼šè¯ç®¡ç†
- âœ… **æ•°æ®ç»Ÿè®¡**ï¼šé˜…è¯»çƒ­åŠ›å›¾ã€æ—¶é—´åˆ†å¸ƒã€åå¥½åˆ†æ
- âœ… **å†…å®¹ç®¡ç†**ï¼šæœç´¢ã€ä¹¦æ¶ã€ç¬”è®°ã€è¿›åº¦åŒæ­¥
- âœ… **ç”Ÿäº§ä¼˜åŒ–**ï¼šCSSæ„å»ºã€æ ·å¼ç¨³å®šæ€§ã€éƒ¨ç½²é…ç½®
- âœ… **å¿«é€Ÿè¿­ä»£**ï¼š2å¤©å†…ä»é¡¹ç›®åˆå§‹åŒ–åˆ°MVPå®Œæˆ

### v1.1.0ï¼ˆå¼€å‘ä¸­ï¼‰

- [ ] ç§»åŠ¨ç«¯å“åº”å¼ä½“éªŒè¿›ä¸€æ­¥ä¼˜åŒ–
- [ ] ç¦»çº¿é˜…è¯»æ”¯æŒ
- [ ] é˜…è¯»ç›®æ ‡è®¾ç½®å’Œè·Ÿè¸ª
- [ ] æ›´å¤š TTS è¯­éŸ³å’Œè‡ªå®šä¹‰é€‰é¡¹

### v1.2.0ï¼ˆè®¡åˆ’ä¸­ï¼‰

- [ ] å¤šç”¨æˆ·æ”¯æŒå’Œæƒé™ç®¡ç†
- [ ] å¢å¼ºçš„ç¬”è®°å’Œæ ‡æ³¨åŠŸèƒ½
- [ ] ç¤¾äº¤åˆ†äº«å’Œé˜…è¯»åŠ¨æ€
- [ ] æ€§èƒ½ä¼˜åŒ–å’Œç¼“å­˜ç­–ç•¥

### v2.0.0ï¼ˆé•¿æœŸç›®æ ‡ï¼‰

- [ ] è·¨å¹³å°å®¢æˆ·ç«¯ï¼ˆPWAã€æ¡Œé¢åº”ç”¨ï¼‰
- [ ] AI æ¨èç³»ç»Ÿå’Œæ™ºèƒ½é˜…è¯»åŠ©æ‰‹
- [ ] å®æ—¶åä½œå’Œé˜…è¯»å°ç»„åŠŸèƒ½
- [ ] å¤šè¯­è¨€æ”¯æŒå’Œå›½é™…åŒ–

## ğŸ†˜ æ”¯æŒ

é‡åˆ°é—®é¢˜ï¼Ÿæˆ‘ä»¬æä¾›å¤šç§æ”¯æŒæ–¹å¼ï¼š

- ğŸ“– **æ–‡æ¡£**ï¼šæŸ¥çœ‹ [é¡¹ç›®æ–‡æ¡£](docs/)
- ğŸ› **Issue**ï¼š[GitHub Issues](https://github.com/h7ml/weread/issues)
- ğŸ’¬ **è®¨è®º**ï¼š[GitHub Discussions](https://github.com/h7ml/weread/discussions)
- ğŸ“§ **é‚®ä»¶**ï¼š[h7ml@qq.com](mailto:h7ml@qq.com)
- ğŸ’¬
  **å¾®ä¿¡**ï¼š[è”ç³»ä½œè€…](https://tech-5g8h9y7s90510d9e-1253666439.tcloudbaseapp.com/wechat.jpg)

## ğŸ‘¤ ä½œè€…

- **å§“å**ï¼šh7ml
- **é‚®ç®±**ï¼š[h7ml@qq.com](mailto:h7ml@qq.com)
- **GitHub**ï¼š[@h7ml](https://github.com/h7ml)
- **å¾®ä¿¡**ï¼š[æ‰«ç æ·»åŠ ](https://tech-5g8h9y7s90510d9e-1253666439.tcloudbaseapp.com/wechat.jpg)

<div align="center">
  <img src="https://tech-5g8h9y7s90510d9e-1253666439.tcloudbaseapp.com/wechat.jpg" alt="å¾®ä¿¡äºŒç»´ç " width="200" height="200">
  <p><em>æ‰«æäºŒç»´ç æ·»åŠ ä½œè€…å¾®ä¿¡</em></p>
</div>

## ğŸ™ è‡´è°¢

æ„Ÿè°¢ä»¥ä¸‹ä¼˜ç§€çš„å¼€æºé¡¹ç›®ï¼š

- [Deno](https://deno.land/) - ç°ä»£ JavaScript è¿è¡Œæ—¶
- [Fresh](https://fresh.deno.dev/) - å…¨æ ˆ Web æ¡†æ¶
- [Preact](https://preactjs.com/) - å¿«é€Ÿ React æ›¿ä»£æ–¹æ¡ˆ
- [TailwindCSS](https://tailwindcss.com/) - å®ç”¨ä¼˜å…ˆ CSS æ¡†æ¶

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT è®¸å¯è¯](LICENSE) å¼€æºã€‚

---

<div align="center">

**[â­ ç»™ä¸ª Star](https://github.com/h7ml/weread/stargazers) |
[ğŸ´ Fork é¡¹ç›®](https://github.com/h7ml/weread/fork) |
[ğŸ’ èµåŠ©å¼€å‘](https://github.com/sponsors/h7ml)**

Made with â¤ï¸ by [h7ml](https://github.com/h7ml) and
[contributors](https://github.com/h7ml/weread/contributors)

</div>
